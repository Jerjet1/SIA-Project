{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FERMA STAINLESS WORKS</title>
    {% tailwind_css %}
</head>
<body class="font-Nats overflow-auto">
    <header class="flex bg-gray-1 w-full">
        <img src="{% static 'images/Logo.png'%}" alt="Ferma Steel works" class="ml-20 w-28 h-20">
        <h1 class="text-white font-bold mt-5 ml-2 sm:text-xs md:text-4xl">FERMA STAINLESS WORKS</h1>
    </header>
    <main class="flex w-full min-h-screen bg-white overflow-hidden">
        <!--vertical navbar-->
        <div class="min-w-fit min-h-screen flex flex-col bg-gray-2 w-[6rem] text-white items-center">
            <!--container-->
            <div class="flex flex-col mx-2 flex-grow items-center min-w-full">
                <div class="py-4 flex flex-col items-center">
                    <img src="{% static 'images/user-icon.png'%}" alt="user-icon" class="w-7 h-7 mb-1">
                    <p class="text-white items-center text-sm">John Doe</p>
                    <p class="text-white items-center text-sm">Admin</p>
                </div>
                <ul class="flex flex-col items-center space-y-2 min-w-full">
                    <!--Request-->
                    <li class="flex flex-col items-center hover:bg-slate-900 hover:text-orange-500 min-w-full pt-1">
                        <a href="{% url 'Admin/Request' %}" class="text-sm mt-1">
                            <img src="{% static 'images/Request.png' %}" alt="Request" class="w-6 h-6 ml-4">
                            Request
                        </a>
                    </li>
                    <!--Inventory-->
                    <li class="flex flex-col items-center hover:bg-slate-900 hover:text-orange-500 min-w-full pt-1">
                        <a href="{% url 'Admin/Inventory' %}" class="text-sm mt-1">
                            <img src="{% static 'images/inventory.png' %}" alt="Inventory" class="w-6 h-6 ml-5">
                            Inventory
                        </a>
                    </li>
                    <!--Account-->
                    <li class="relative group flex flex-col items-center min-w-full pt-1 text-sm">
                        <img src="{% static 'images/account.png' %}" alt="Account" class="w-6 h-6">
                            Account
                        <!--hover submenu-->
                        <ul class="absolute left-[5.5rem] mt-1 hidden group-hover:block bg-gray-2 rounded-md">
                            <li>
                                <a href="{% url 'Admin/CreateAccount' %}" class="block px-4 py-2 hover:bg-slate-900 hover:text-orange-500 rounded-md">Create Account</a>
                            </li>
                            <li>
                                <a href="{% url 'Admin/Account' %}" class="block px-4 py-2 hover:bg-slate-900 hover:text-orange-500 rounded-md">Accounts</a>
                            </li>
                        </ul>
                    </li>
                    <!--Reports-->
                    <li class="relative group flex flex-col items-center min-w-full pt-1 text-sm">
                        <img src="{% static 'images/reports.png' %}" alt="Reports" class="w-6 h-6">
                            Reports
                        <!--hover submenu-->
                        <ul class="absolute left-[5.5rem] mt-1 hidden group-hover:block bg-gray-2 rounded-md">
                            <li class="w-[9rem] text-center">
                                <a href="#" class="block px-4 py-2 hover:bg-slate-900 hover:text-orange-500 rounded-md">Item Requests</a>
                            </li>
                            <li class="w-[9rem] text-center">
                                <a href="#" class="block px-4 py-2 hover:bg-slate-900 hover:text-orange-500 rounded-md">Job Requests</a>
                            </li>
                            <li class="w-[9rem] text-center">
                                <a href="#" class="block px-4 py-2 hover:bg-slate-900 hover:text-orange-500 rounded-md">Order History</a>
                            </li>
                            <li class="w-[9rem] text-center">
                                <a href="#" class="block px-4 py-2 hover:bg-slate-900 hover:text-orange-500 rounded-md">Job Requests</a>
                            </li>
                            <li class="w-[9rem] text-center">
                                <a href="#" class="block px-4 py-2 hover:bg-slate-900 hover:text-orange-500 rounded-md">Delivery History</a>
                            </li>
                        </ul>
                    </li>
                    <!--Supplier-->
                    <li class="flex flex-col items-center hover:bg-slate-900 hover:text-orange-500 min-w-full pt-1">
                        <a href="{% url 'Admin/Supplier' %}" class="text-sm mt-1">
                            <img src="{% static 'images/Supplier.png' %}" alt="Supplier" class="w-6 h-6 ml-3">
                            Supplier
                        </a>
                    </li>
                </ul>
                <!--Logout-->
                <ul class="mt-auto min-w-full hover:text-orange-500">
                    <li class="flex flex-col items-center min-w-full hover:bg-slate-900 pt-2">
                        <a href="{% url 'Login'%}" class="">
                            <img src="{% static 'images/logout.png'%}" alt="logout" class="w-6 h-6 ml-2">
                            <p class="text-sm mt-2 pb-3">Log out</p>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        {% block content %}
        <!--container div-->
        <div class="w-full bg-white flex justify-center items-center">
            <div class="w-[50rem] h-[35rem]  mt-10">
                <div class=" min-w-full h-20 pt-2">
                    <input type="text" placeholder="Search" class="h-8 rounded-3xl hover:border-blue-700">
                    <button type="button" class="rounded-xl pt-1 pb-1 px-5 text-md hover:text-orange-500 bg-gray-2 text-white">
                        Search
                    </button>
                </div>
                <!--table container-->
                <div class="min-w-full h-[28rem] bg-gray-3">
                    <table class="w-full">
                        <thead class="bg-gray-200 border-b-3 border-gray-200">
                            <tr class="">
                                <th class="p-3 text-sm font-semibold tracking-wide text-center">Request ID</th>
                                <th class="p-3 text-sm font-semibold tracking-wide text-center">Request Type</th>
                                <th class="p-3 text-sm font-semibold tracking-wide text-center">Date</th>
                                <th class="p-3 text-sm font-semibold tracking-wide text-center">Status</th>
                                <th class="p-3 text-sm font-semibold tracking-wide text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody class="">
                            <tr class="text-center">
                                <td class="pt-1 mt-1">001</td>
                                <td class="pt-1 mt-1">job request</td>
                                <td class="pt-1 mt-1">December 25, 2024</td>
                                <td class="pt-1">
                                    <span class="bg-red-600 text-white px-3 py-1.5 rounded-xl" id="status">pending</span>
                                </td>
                                <td class="pt-1 mt-1">
                                    <button class="bg-gray-2 px-2 py-1 hover:text-orange-500 rounded-lg text-white" onclick="openModal('viewModal')">view</button>
                                    <button class="bg-gray-2 px-2 py-1 hover:text-orange-500 rounded-lg text-white" onclick="openModal('approveModal')">approve</button>
                                    <button class="bg-gray-2 px-2 py-1 hover:text-orange-500 rounded-lg text-white" onclick="openModal('declineModal')">decline</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!--view Modal-->
        <div id="viewModal" class="modal hidden fixed inset-0 bg-black bg-opacity-50 items-center justify-center">
            <div class="bg-white rounded-lg p-6 space-y-4">
                <h2 class="text-lg font-bold">View Request</h2>
                <p>Details about the job request go here.</p>
                <button 
                    class="bg-blue-500 text-white px-4 py-2 rounded-lg"
                    onclick="closeModal('viewModal')">Close</button>
            </div>
        </div>
        <!--approve modal-->
        <div id="approveModal" class="modal hidden fixed inset-0 bg-black bg-opacity-50 items-center justify-center">
            <div class="bg-white rounded-lg p-6 space-y-4">
                <h2 class="text-lg font-bold">Approve Request</h2>
                <p>Are you sure you want to approve this request?</p>
                <div class="flex justify-end space-x-2">
                    <form action="">
                        <button 
                            class="bg-green-500 text-white px-4 py-2 rounded-lg" type="submit"
                            onclick="closeModal('approveModal')">Yes</button>
                        </form>
                    <button 
                        class="bg-gray-300 px-4 py-2 rounded-lg"
                        onclick="closeModal('approveModal')">Cancel</button>
                </div>
            </div>
        </div>
        <!--decline Modal-->
        <div id="declineModal" class="modal hidden fixed inset-0 bg-black bg-opacity-50 items-center justify-center">
                <div class="bg-white rounded-lg p-6 space-y-4">
                    <h2 class="text-lg font-bold">Decline Request</h2>
                    <p>Are you sure you want to decline this request?</p>
                    <div class="flex justify-end space-x-2">
                        <form action="">
                            <button 
                                class="bg-red-500 text-white px-4 py-2 rounded-lg"
                                onclick="closeModal('declineModal')" type="submit">Yes</button>
                        </form>
                        <button 
                            class="bg-gray-300 px-4 py-2 rounded-lg"
                            onclick="closeModal('declineModal')">Cancel</button>
                    </div>
                </div>
        </div>
        <script>
            function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('hidden'); // Remove hidden class
            modal.classList.add('flex'); // Add flex for centering
            }
    
            function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('flex'); // Remove flex to prevent display issues
            modal.classList.add('hidden'); // Add hidden class to hide modal
            }
        </script>
        {% endblock %}
    </main>
</body>
</html>